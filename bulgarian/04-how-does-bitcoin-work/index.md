# КАК РАБОТИ БИТКОИН?

Правила, не владетели

тик-ток/
/следващ блок
* Биткойн използва доказателство за работа, криптография с публичен ключ
и peer-to-peer мрежа, за да обработва и проверява
плащания в глобален, разпределен, онлайн счетоводен регистър.

>**Криптография** (съществително) /krɪpˈtɑːɡrəfi
>
>*: шифроването и дешифрирането на съобщения
>в секретен код или шифър
>: компютъризираното кодиране и
>декодиране на информация*

~ Merriam Webster Dictionary

>**Хаширане** (глагол) /ˈhæʃɪŋ/
>
>*: метод за криптиране
>: процесът на използване на математически алгоритъм срещу
>данни за създаване на цифрова стойност (хаш дайджест),
>която е представителна за тези данни.*

~ crsc.nist.gov

>**Запомнете:**
>
>Биткойн екосистемата включва >>
>
>**биткойн:** цифровият **паричен актив**
>
>**Биткойн:** **мрежата за плащания** от миньори и възли

1 биткойн = 100 000 000 сатошита (sats)

**(Можете да купите сатошита, част от биткойн)**

---

>*Ние дефинираме електронна монета като верига от
цифрови подписи. Всеки собственик прехвърля
монетата на следващия чрез цифрово подписване
на хеш на предишната транзакция и
публичния ключ на следващия собственик и добавяне
на тях към края на монетата. Получателят на плащането може
да провери подписите, за да потвърди веригата
на собственост.*

~ Сатоши Накамото
Bitcoin White Paper, Pt.2, 2008
Описва как работи биткойн транзакция
в разпределения счетоводен регистър

---
## БИТКОИН ЕКОСИСТЕМАТА..
**се състои от Миньори, Възли, Потребители, Разработчици**

всички работещи независимо,

и едновременно взаимозависимо,

за да съживят това, което е

БИТКОИН!

![bitcoin](figure-06-m-u-n-d.png)

---
## МИНЬОРИ
* **Специализирани възли** (компютри, наречени ASICS) **които
„копаят“ блоковете**, които стават част от биткойн
блокчейна.
* Правейки това, те **проверяват валидираните транзакции,
направени от потребители, генерират нови биткойни** и **осигуряват
цялата мрежа.**

## ПОТРЕБИТЕЛИ
* **Вие и аз. Всички ние.** Хората.
* Признавайки и оценявайки стойността на
предоставените стоки и услуги, ние извършваме транзакции: даваме
и получаваме биткойн, или го съхраняваме за използване по-късно, както
е необходимо.

## ВЪЗЛИ
* **Възлите са компютри, които изпълняват биткойн
софтуера.**
* **Има хиляди възли**, съставляващи
децентрализираната, глобална, доброволна **мрежа, която
валидира транзакции** (като по този начин предотвратява
двойното харчене и помага за осигуряване на
системата).

## РАЗРАБОТЧИЦИ (DEVS)
* **Кодери, програмисти и дигитални автори**, които работят
за **поддържане и мащабиране на мрежата, подобряване на сигурността,
поверителността и потребителския интерфейс и превеждане на код** в
език и визуализации, които останалите можем да разберем и използваме

---

## БИТКОИН ТРАНЗАКЦИЯ:
Али иска да изпрати на Бенджи малко биткойн:

>1. Али **отваря приложението за биткойн портфейл** на телефона си и
>**натиска „Изпращане“.**
>2. Бенджи **отваря приложението за портфейл** и **натиска „Получаване“.**
>3. **Ако са заедно:** Али сканира QR кода на
>приложението за портфейл на телефона на Бенджи.
>4. **Ако не са заедно:** Али копира и поставя
>адреса, който Бенджи ѝ е изпратил, в полето за адрес в нейния
>портфейл.
>5. Али **въвежда сумата за изпращане** и натиска **„Изпращане“.**
>6. **След няколко секунди** Бенджи ще види сумата
>в очакване в портфейла си.
>7. **Ако е изпратено чрез Lightning**, ще бъде потвърдено
>почти моментално и е почти безплатно.
>8. **Ако е изпратено „onchain“** (в биткойн основната верига),
>включва малка такса и обикновено отнема около 10
>минути, за да бъде потвърдено. Може да отнеме повече време,
>в зависимост от трафика в мрежата.

---

## БИТКОИН ТРАНЗАКЦИЯ ПОД КАПАКА:
(Определения на термините, които са **в удебелен шрифт**, следват)

>1. Когато Али изпрати тези сатошита на Бенджи, плащането
>**транзакция** се **излъчва** в мрежата.
>2. Транзакцията се валидира от **възли**, които
>се уверяват, че Али наистина има биткойн за изпращане, и
>че не е бил харчен преди (за да се предотврати
>двойното харчене).
>3. След като бъде валидирана от възел, тя чака в **мемпула**
>с транзакциите на други хора.
>4. Транзакциите в мемпула се добавят в
>блок към **блокчейна**, когато **миньор** намери >**nonce**
>което удовлетворява **алгоритъма за трудност.**
>5. Всеки **блок** има **времеви печат.**
>6. Това създава **неизменност** и помага за защита на
>корекцията на алгоритъма за трудност от
>манипулиране.
>7. Всеки блок представлява едно потвърждение за
>транзакциите, включени в него.
>8. С добавянето на блокове, средно на всеки десет минути,
>неизменността на блокчейна се увеличава.

---

## РЕЧНИК НА ТЕРМИНИТЕ

---
>* **ТРАНЗАКЦИЯ ~ Изпращане/получаване на биткойн**
---
* Прехвърляне на стойност под формата на сатошита, от
един притежател на биткойн към друг.

---
>* **ВЪЗЕЛ ~ „Клон“ на децентрализираната биткойн
„банка“. Всеки може да управлява възел.**
---

* Възлите са компютри, които изпълняват биткойн
софтуера.
* Възлите, заедно с миньорите, потребителите и
разработчиците, формират peer-to-peer Биткойн
мрежата.
* Представете си **всеки пълен възел като счетоводен регистър, съдържащ
салдата на всеки частен ключ.**
* Те си взаимодействат и достигат консенсус (съгласие) с
един друг, като приемат и валидират
транзакции от други възли, заедно с блокове
от миньори, и след това ги препращат нататък към
други възли.
* Възлите се управляват от специална група от хиляди
доброволци по целия свят.
* Пълен възел е този, който независимо
е валидирал целия Биткойн блокчейн, от
Генезис блока, копан от Сатоши през 2009 г.
* Колкото повече активни възли има, толкова по-разпределена и следователно устойчива става цялата мрежа.
* В момента има **над 19 000 достижими пълни
възли по целия свят и много повече недостижими.**
* Всички участващи възли са равни.

---

---
>* **ИЗЛЪЧВАНЕ ~ Уведомяване на мрежата, че изпращате
биткойн на някого.**
---

* Когато натиснете „Изпращане“, вашият портфейл подписва транзакцията с вашия частен ключ и я излъчва,
уведомявайки всички останали възли за вашето намерение
да прехвърлите стойност, за да могат да валидират
транзакцията

---
>* **MEMPOOL ~ Стая за чакане на транзакции**
---

* Това е „стаята за чакане“, където валидираните транзакции се изпращат, за да бъдат взети от миньор и
добавени към блок.

---
>* **БЛОК ~ „Страница“ в биткойн счетоводния регистър**
---

* Разпределеният счетоводен регистър на Биткойн е съставен от дигитални „блокове“.
* Всеки блок съдържа проверени биткойн транзакции,
които поддържат глобалния регистър точен и актуален.
Те също така съдържат nonce, времеви печат и хеш
на предишния блок, всички от които
допринасят за неизменността на биткойн
блокчейна.

---
>* **БЛОКЧЕЙН ~ Целият биткойн счетоводен регистър**
---

* Биткойн блокчейна, известен също като
времева верига, е разпределеният счетоводен регистър, който съдържа
всеки блок и всяка биткойн транзакция, правена някога
откакто генезис блокът е изкопан от
Сатоши през 2009 г.

---

---
>* **МИНЬОР ~ Специализиран възел, който потвърждава
транзакции и издава нови биткойни**
---

* Биткойн миньорите са специализирани компютри. Те
насочват много изчислителна мощност (хешрейт) в
дигитална лотария, за да познаят число, което ще задоволи
текущия алгоритъм за трудност, като по този начин „копаят“
„блок“ (част от счетоводния регистър).
* Изкопан блок е с времеви печат и е добавен към
блокчейна (известен още като времева верига).

---
>* **АЛГОРИТЪМ ЗА ТРУДНОСТ ~ Специален, адаптивен
дизайн, който помага да се запази издаването на нови биткойни
предсказуемо.**
---

* Това беше едно от гениалните решения на Сатоши, за да помогне
да се предпази издаването на биткойни от изпреварване на себе си,
с разработването на по-модерни компютри.
* Когато повече миньори влязат онлайн, целевото число (nonce) в „лотарията“ става по-малко и следователно по-трудно за намиране.
* Когато по-малко миньори са онлайн, става по-лесно.
* Алгоритъмът **се настройва автоматично на всеки 2016
блока** (приблизително на всеки две седмици), за да се осигури предсказуем темп на предлагане, където един блок се копае
средно на всеки десет минути.

---
>* **NONCE ~ 32-битово произволно число**
---

* 32-битово произволно число, което миньорите добавят към
края на хеширания списък с транзакции, за да се опитат
да удовлетворят целта за трудност за изкопаване на блок.
* Когато миньор намери nonce, който води до
генериране на хеш под текущото целево
число, те са изкопали блок и могат да го добавят
към блокчейна и да поискат наградата за биткойн блок.
---

---
>* **ВРЕМЕВИ ПЕЧАТ ~ Отпечатва времето**
---

* Всеки изкопан блок има добавен времеви печат.
* Това е за допълнителна сигурност, неизменност и за да помогне
да се установи корекцията на трудността

---
>* **НЕИЗМЕННОСТ ~ Не може да бъде променено.**
---

* Това означава, че блокчейна е „фиксиран в дигитален камък“.

---
>* **ДОКАЗАТЕЛСТВО ЗА РАБОТА (PoW) ~ Криптографско доказателство, че
трудна работа е била извършена, за да се удовлетвори алгоритъм.**
---

* Миньорите използват PoW алгоритъма, за да докажат, че са
използвали много изчислителна мощност чрез електричество
(работа), за да постигнат консенсус по децентрализиран начин и да предотвратят корумпирани актьори
да спамят мрежата.

---
>* **КРИПТОГРАФИЯ С ПУБЛИЧЕН КЛЮЧ ~ Процес, който
създава дигиталните ключове за достъп до вашите биткойни**
---

* Това е система, при която се създават два ключа
чрез криптографски алгоритъм.
* **Един ключ е публичен** - Подобно на номера на вашата банкова сметка, който можете да дадете на хората, за да ви изпратят биткойни
за стоки, подаръци или услуги.
* **Другият ключ е частен** - Само вие имате копие,
и го използвате, за да отключите достъпа до вашите биткойни,
точно както парола отключва вашата онлайн банка
сметка.
* **Трябва да защитите много добре частния си ключ,**
тъй като всеки, който има достъп до него, има достъп до
вашите биткойни.

---

---
>* **PEER-TO-PEER (P2P) МРЕЖА ~ Децентрализирана
мрежа без посредници**
---

* Пълните възли (peer) съвместно поддържат peer-to-peer мрежа за валидиране и проверка на транзакции и блокове.
* В този тип мрежа всеки възел е способен
както да предоставя/иска данни към/от своите peer-и.
* В P2P мрежа няма пазачи на портата.

---
>* **LIGHTNING NETWORK ~ Мрежа, изградена върху биткойн, която прави възможно да се изпращат или получават
сатошита много бързо и почти безплатно.**
---

* Lightning е решение за мащабиране от слой 2. Това означава, че
предоставя начин за биткойн да се мащабира, давайки му
потенциала да обработва милиони транзакции в
секунда (TPS).

---
>* **ПОРТФЕЙЛ ~ „Портфейл“ съдържа криптографските
ключове за достъп до вашите биткойни.**
---

* Може да бъде на телефон, компютър или на отделно
малко хардуерно устройство (най-безопасното).
* Биткойн портфейлът по-точно би се нарекъл устройство
за подписване. Вашите биткойни никога всъщност не напускат
блокчейна, дигиталния счетоводен регистър.
* Когато искате да изпратите или похарчите вашите биткойни,
портфейлът ще подпише и излъчи транзакцията към
мрежата, за да може да бъде валидирана и
добавена в блок на блокчейна.

---
>* **РАЗРАБОТЧИЦИ ~ Компютърни програмисти**
---

* Cypherpunks/програмисти, които поддържат мрежата, подобряват сигурността, проверяват за грешки, изпращат
заявки за изтегляне (за нови актуализации или функции), преглеждат
заявки за изтегляне, проверяват кода.

---

---
>* **ПУБЛИЧЕН КЛЮЧ ~ Като номер на банкова сметка за
получаване на биткойни.**
---

* Можете да го дадете на хора, за да ви изпращат биткойни,
точно както бихте дали номера на сметката си на
някого, за да ви изпрати фиат

---
>* **ЧАСТЕН КЛЮЧ ~ За осигуряване, достъп и изпращане на биткойни, като ключ за кутия за депозити.**
---

* Биткойн частен ключ е таен низ от числа
и букви, който ви позволява да изпращате/харчите вашите
биткойни.
* Само вие имате копие. ** **Много е важно да
го запазите много безопасен и сигурен, тъй като всеки, който
получи копие, може да похарчи вашите биткойни.** **

---
>* **РАЗПРЕДЕЛЕН СЧЕТОВОДЕН РЕГИСТЪР ~ Счетоводен регистър, поддържан от
всеки, който желае да помогне за поддържането му.**
---

* Вместо централно контролиран счетоводен регистър, който е
невидим за обществеността, като този, който поддържа банка, Биткойн е прозрачен, отворен, децентрализиран
счетоводен регистър, видим за всеки, по всяко време.
* Адресите са низове от букви и числа,
без прикачени имена.
* Макар и псевдонимни, е възможно да се проследяват транзакции, особено ако биткойните са закупени от
централизирана KYC борса.
* Биткойн мрежата е без доверие и всеки може
да я одитира по всяко време, за разлика от банка, където човек трябва
да се довери, че счетоводните регистри се водят честно.

---

## ПОВЕЧЕ ЗА КОПАНЕТО
![whatsminer](figure-07-whatsminer.png) Whatsminer M50S

![Antminer](figure-08-Antminer.png) Antminer S21 Pro

![Bitaxe](figure-09-Bitaxe%20.png) Bitaxe 401 Supra

* **Миньорите посвещават изчислителна мощност, известна още като хешрейт,
чрез електричество към мрежата,** за да добавят блокове към
Биткойн блокчейна.
* Тези компютри работят 24 часа на ден, обикновено в комплекти
от няколко, до няколкостотин или хиляди.
* **Те основно участват в лотария. Когато един от
тях познае число** (nonce), което генерира
хеш, който удовлетворява текущата цел за трудност, **те
получават да добавят следващия блок към времевата верига.**
* **Всичко по-горе е доказателството за работа (PoW), необходимо за
раждането на нови биткойни.**

---

## НАГРАДА ЗА БИТКОЙН БЛОК
**= Субсидия + Такси**

>* **За тяхната работа миньорите получават:**
> * **Субсидия, под формата на новоизсечени биткойни.**
> * **Плюс таксите от проверените транзакции,
>включени в този блок**

* **Когато изпращате биткойн на някого, тази транзакция
включва такса** и трябва да бъде проверена от миньор,
и след това да бъде включена в блок.
* **Субсидията за биткойн блок** се намалява наполовина на всеки четири
години
* Тя е **в момента 3,125 биткойна** за блок, който е изкопан.
* **Следващото „намаляване наполовина“ ще бъде през 2028 г.,** в който момент
наградата за блок ще падне до 1,5625 биткойна за
блок, изкопан.
* Както беше споменато по-рано, **това поддържа издаването стабилно.**
* **През 2140 г. ще бъде изкопано последното парче биткойн.**
* След това миньорите ще получават само таксите от транзакциите, които проверяват във всеки блок.

>*След няколко десетилетия, когато наградата стане твърде
малка, таксата за транзакция ще стане
основната компенсация за възлите (миньорите).*

~ Сатоши Накамото
Bitcointalk.org, 2010-02-14

>* **Миньорите винаги ще бъдат необходими за проверка на транзакциите,
като по този начин поддържат мрежата актуализирана и сигурна.**

* Въпреки че трябва да се знае, че има разходи,
и рентабилността е незначителна за домашните
миньори, това е мощен начин да помогнете за осигуряването и запазването на
мрежата децентрализирана.
* Миньорите издържат доста години. В момента има много
Antminer S9, например, които работят
повече от 6 години.
* Когато миньорите бъдат пенсионирани, **те могат лесно да бъдат разглобени
и рециклирани.**
* **Тони очарователни иновации се случват,** с
хора, използващи излишната топлина от миньорите, за да
отопляват домовете си, сауни, оранжерии, горещи вани,
суха джери и зеленчуци, нагряват палуби, сушат дърва и
още!

---
