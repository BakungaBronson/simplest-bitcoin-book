# ビットコインはどのように機能するのか？

支配者ではなくルールを

tik-tok/
/次のブロック
* ビットコインは、プルーフ・オブ・ワーク、公開鍵暗号、
そしてピアツーピア・ネットワークを使用して、グローバルで分散型のオンライン台帳で支払い処理と検証を行います。

>**暗号** (名詞) /krɪpˈtɑːɡrəfi
>
>*: 秘密のコードまたは暗号でメッセージを暗号化および解読すること
>: 情報のコンピュータ化されたエンコードおよび
>デコード*

~ Merriam Webster Dictionary

>**ハッシュ** (動詞) /ˈhæʃɪŋ/
>
>*: 暗号化の方法
>: 数学的アルゴリズムをデータに対して使用して、そのデータを代表する数値（ハッシュダイジェスト）を生成するプロセス*

~ crsc.nist.gov

>**覚えておいてください:**
>
>ビットコインのエコシステムには以下が含まれます >>
>
>**bitcoin:** デジタル**通貨資産**
>
>**Bitcoin:** マイナーとノードの**決済ネットワーク**

1 bitcoin = 100,000,000 satoshis (sats)

**(あなたはsats、ビットコインの一部を購入できます)**

---

>*電子コインをデジタル署名のチェーンとして定義します。各所有者は、前のトランザクションのハッシュと次の所有者の公開鍵をデジタル署名し、これらをコインの末尾に追加することにより、コインを次の所有者に転送します。支払人は署名を検証して、所有権のチェーンを検証できます。*

~ サトシ・ナカモト
Bitcoin White Paper, Pt.2, 2008
分散型台帳でのビットコイン取引の仕組みについて説明

---
## ビットコインのエコシステム..
**マイナー、ノード、ユーザー、開発者で構成されています**

すべてが独立して作業し、

同時に相互依存して、

ビットコインを活性化します！

![bitcoin](figure-06-m-u-n-d.png)

---
## マイナー
* **ビットコインのブロックチェーンの一部となる「ブロック」を「マイニング」する**__特殊なノード__（ASICと呼ばれるコンピュータ）。
* そうすることで、**ユーザーが行った検証済みのトランザクションを検証し、新しいビットコインを鋳造し、ネットワーク全体を保護します。**

## ユーザー
* **あなたと私。私たち全員。** 人々。
* 提供された商品やサービスの価値を認識し、感謝し、私たちは取引を行います：必要に応じて、ビットコインを授受するか、後で使用するために保管します。

## ノード
* **ノードは、ビットコインソフトウェアを実行するコンピュータです。**
* **何千ものノード**が、トランザクションを検証する分散型のグローバルな自発的な**ネットワーク**を構成しています（二重支出を防ぎ、システムのセキュリティを支援します）。

## 開発者（DEVS）
* ネットワークの**維持とスケーリング、セキュリティ、プライバシー、ユーザーインターフェースの改善、コードの翻訳**を行う**コーダー、プログラマー、およびデジタルオーサー**
そして、私たち残りの人が理解して利用できる言語とビジュアルに翻訳します。

---

## ビットコインの取引：
アリがベンジーにビットコインを送りたいとします。

>1. アリは携帯電話で**ビットコインウォレット**アプリを開き、**「送信」をクリック**します。
>2. ベンジーは**ウォレットアプリを開き、「受信」をクリック**します。
>3. **彼らが一緒にいる場合：**アリはベンジーの携帯電話のウォレットアプリにあるQRコードをスキャンします。
>4. **彼らが一緒にいない場合：**アリはベンジーが彼女にテキストメッセージで送ったアドレスをコピーして、彼女のウォレットのアドレスフィールドに貼り付けます。
>5. アリは**送信する金額を入力**し、**「送信」**を押します。
>6. **数秒後、**ベンジーはウォレットに保留中の金額が表示されます。
>7. **Lightning経由で送信された場合**、ほぼ瞬時に確認され、ほぼ無料です。
>8. **「オンチェーン」（ビットコインメインチェーン上）で送信された場合**、少額の手数料が含まれ、通常は約10分で確認されます。ネットワークトラフィックによっては、時間がかかる場合があります。

---

## ビットコインの取引の裏側：
（**太字**の用語の定義は次のとおりです）

>1. アリがそのsatsをベンジーに送信すると、支払い**トランザクション**がネットワークに**ブロードキャスト**されます。
>2. トランザクションは**ノード**によって検証されます。ノードは、アリが実際に送信するビットコインを持っていること、および以前に（二重支出を防ぐために）使用されていないことを確認します。
>3. ノードによって検証されると、**mempool**で他の人々のトランザクションとともに待機します。
>4. mempool内のトランザクションは、**マイナー**が**nonce**を見つけたときに、ブロックとして**ブロックチェーン**に追加されます。
>5. 各**ブロック**には**タイムスタンプ**があります。
>6. これにより**不変性**が生まれ、**困難なアルゴリズム**の調整が操作されるのを防ぐのに役立ちます。
>7. 各ブロックは、それに含まれるトランザクションの1つの確認を表します。
>8. 平均して10分ごとにブロックが追加されると、ブロックチェーンの不変性が高まります。

---

## 用語集

---
>* **トランザクション〜ビットコインの送受信**
---
* あるビットコイン保有者から別のビットコイン保有者への、satoshiの形式での価値の移転。

---
>* **NODE 〜 分散型ビットコイン「バンク」の「ブランチ」。誰でもノードを実行できます。**
---

* ノードは、ビットコインソフトウェアを実行するコンピュータです。
* ノードは、マイナー、ユーザー、開発者とともに、ピアツーピアのビットコインネットワークを形成します。
* **各フルノードを、すべての秘密鍵の残高を含む台帳として想像してください。**
* それらは相互作用し、他のノードからのトランザクションとマイナーからのブロックを受け入れて検証し、これらを他のノードに中継することによって、相互にコンセンサス（合意）に達します。
* ノードは、世界中の数千人のボランティアのその場限りのグループによって運営されています。
* フルノードは、サトシが2009年にマイニングしたジェネシスブロック以来、ビットコインブロックチェーン全体を個別に検証したノードです。
* アクティブなノードが多いほど、ネットワーク全体がより分散化され、回復力が高まります。
* **現在、世界中で19,000を超える到達可能なフルノードがあり、到達できないノードははるかに多くあります。**
* 参加するすべてのノードは平等です。

---

---
>* **ブロードキャスト〜誰かにビットコインを送信していることをネットワークに知らせる。**
---

* 「送信」をクリックすると、ウォレットは秘密鍵でトランザクションに署名してブロードキャストし、他のすべてのノードに価値を移転する意図を知らせて、トランザクションを検証できるようにします。

---
>* **MEMPOOL 〜 トランザクション待機室**
---

* これは、検証済みのトランザクションがマイナーによってピックアップされてブロックに追加されるために送信される「待機室」です。

---
>* **ブロック〜ビットコイン台帳の「ページ」**
---

* ビットコインの分散型台帳は、デジタル「ブロック」で構成されています。
* 各ブロックには、グローバル台帳を正確かつ最新の状態に保つ検証済みのビットコイン取引が含まれています。
* これらには、nonce、タイムスタンプ、前のブロックのハッシュも含まれており、これらすべてがビットコインブロックチェーンの不変性に貢献します。

---
>* **ブロックチェーン〜ビットコイン台帳全体**
---

* タイムチェーンとしても知られるビットコインブロックチェーンは、2009年にサトシによってジェネシスブロックがマイニングされて以来、すべてのブロックとこれまでに作成されたすべてのビットコイン取引を含む分散型台帳です。

---

---
>* **マイナー〜トランザクションを確認し、新しいビットコインを発行する特殊なノード**
---

* ビットコインマイナーは特殊なコンピュータです。
* 彼らは、現在の困難なアルゴリズムを満たす数値を推測するために、デジタル宝くじで多くの計算能力（ハッシュレート）を向け、それによって「ブロック」（台帳の一部）を「マイニング」します。
* マイニングされたブロックにはタイムスタンプが付けられ、ブロックチェーン（別名タイムチェーン）に追加されます。

---
>* **ディフィカルティ・アルゴリズム〜新しいビットコインの発行を予測可能に保つのに役立つ、特別な適応設計。**
---

* これは、より高度なコンピュータが開発されるにつれて、ビットコインの発行がそれ自体を上回るのを防ぐためのサトシの天才的なソリューションの1つでした。
* より多くのマイナーがオンラインになると、「宝くじ」のターゲット番号（nonce）が小さくなり、したがって見つけるのがより困難になります。
* マイナーが少ない場合は、簡単になります。
* アルゴリズムは**2016ブロックごとに自動的に調整され**（約2週間ごと）、1つのブロックが平均して10分ごとにマイニングされるという予測可能な供給率を保証します。

---
>* **NONCE 〜 32ビットの乱数**
---

* マイナーがブロックをマイニングするために困難なターゲットを満たすために、ハッシュ化されたトランザクションリストの最後に追加する32ビットの乱数。
* マイナーが現在のターゲット数よりも低いハッシュを生成することにつながるnonceを見つけた場合、ブロックをマイニングし、ブロックチェーンに追加して、ビットコインブロック報酬を請求することができます。
---

---
>* **タイムスタンプ〜時間をスタンプします**
---

* マイニングされたすべてのブロックには、タイムスタンプが追加されています。
* これは、セキュリティ、不変性の追加、および困難な調整の確立に役立つためです

---
>* **不変性〜変更できません。**
---

* これは、ブロックチェーンが「デジタルストーンに設定されている」ことを意味します。

---
>* **プルーフ・オブ・ワーク（PoW）〜アルゴリズムを満たすために困難な作業が行われたという暗号化証明。**
---

* マイナーはPoWアルゴリズムを使用して、分散型の方法でコンセンサスを達成し、不正なアクターがネットワークをスパムすることを防ぐために、電気（作業）を介して多くの計算能力を使用したことを証明します。

---
>* **公開鍵暗号〜ビットコインにアクセスするためのデジタルキーを作成するプロセス**
---

* これは、暗号化アルゴリズムを通じて2つのキーが作成されるシステムです。
* **1つのキーは公開されています** - あなたが人々に商品、ギフト、またはサービスのビットコインを送るために与えることができるあなたの銀行口座番号のようなもの。
* **もう1つのキーはプライベートです** - あなただけがコピーを持っており、オンライン銀行口座のパスワードがロックを解除するのと同じように、ビットコインへのアクセスをロック解除するために使用します。
* **秘密鍵へのアクセス権を持っている人は誰でもあなたのビットコインへのアクセス権を持っているため、秘密鍵を非常に安全に保護する必要があります。**

---

---
>* **ピアツーピア（P2P）ネットワーク〜仲介者のいない分散型ネットワーク**
---

* フルノード（ピア）は、トランザクションとブロックの検証および確認のために、ピアツーピアネットワークを共同で維持します。
* このタイプのネットワークでは、各ノードはピアとの間でデータを送受信できます。
* P2Pネットワークにはゲートキーパーはありません。

---
>* **ライトニングネットワーク〜ビットコイン上に構築されたネットワークで、satsを非常に高速かつほぼ無料で送受信できます。**
---

* Lightningはレイヤー2のスケーリングソリューションです。
* これは、ビットコインがスケーリングする方法を提供し、1秒あたり数百万のトランザクション（TPS）を処理できる可能性を提供することを意味します。

---
>* **ウォレット〜「ウォレット」には、ビットコインにアクセスするための暗号化キーが保持されています。**
---

* 携帯電話、コンピュータ、または別の小型ハードウェアデバイス（最も安全）に搭載できます。
* ビットコインウォレットは、より正確には署名デバイスと呼ばれます。
* ビットコインがデジタル台帳であるブロックチェーンから実際に離れることはありません。
* ビットコインを送金または使用したい場合、ウォレットはトランザクションに署名してネットワークにブロードキャストし、検証してブロックチェーンのブロックに追加できるようにします。

---
>* **開発者〜コンピュータープログラマー**
---

* ネットワークを維持し、セキュリティを改善し、バグをチェックし、プルリクエスト（新しい更新または機能の場合）を送信し、プルリクエストを確認し、コードを監査するサイファーパンク/プログラマー。

---

---
>* **公開鍵〜ビットコインを受け取るための銀行口座番号のようなもの。**
---

* あなたが彼らに法定通貨を送ることができるようにあなたが誰かにあなたのアカウント番号を与えるのと同じように、あなたはビットコインを送るために人々にそれを与えることができます

---
>* **秘密鍵〜安全デポジットボックスの鍵のように、ビットコインを保護、アクセス、送信するため。**
---

* ビットコインの秘密鍵は、ビットコインを送金/使用できる数字と文字の秘密の文字列です。
* あなただけがコピーを持っています。**コピーを入手した人は誰でもビットコインを使うことができるため、非常に安全に保管することが非常に重要です。**

---
>* **分散型台帳〜維持を支援したいすべての人が維持する台帳。**
---

* 銀行が維持しているように、一般の人々には見えない中央制御された台帳の代わりに、ビットコインは透明でオープンな分散型台帳であり、誰でもいつでも見ることができます。
* アドレスは文字と数字の文字列であり、名前は付いていません。
* 仮名ですが、特に集中型のKYCエクスチェンジからビットコインを購入した場合は、トランザクションを追跡できます。
* ビットコインネットワークは信頼性がなく、銀行とは異なり、銀行が正直に台帳を保持していることを信頼する必要があるため、誰でもいつでも監査できます。

---

## マイニングの詳細
![whatsminer](figure-07-whatsminer.png) Whatsminer M50S

![Antminer](figure-08-Antminer.png) Antminer S21 Pro

![Bitaxe](figure-09-Bitaxe%20.png) Bitaxe 401 Supra

* **マイナーは、電気を介して計算能力（AKAハッシュレート）をネットワークに投入し、**ブロックをビットコインブロックチェーンに追加します。
* これらのコンピュータは、通常、数個から数百個、または数千個のセットで1日24時間稼働しています。
* **彼らは基本的に宝くじを運営しています。**
* **彼らの1人が、現在の困難なターゲットを満たすハッシュを生成する番号**（nonce）**を推測すると、次のブロックをタイムチェーンに追加できます。**
* **上記のすべてが、新しいビットコインを生み出すために必要なプルーフ・オブ・ワーク（PoW）です。**

---

## ビットコインブロック報酬
**= 補助金+手数料**

>* **マイナーは、その仕事に対して次のものを得ます。**
> * **新たに鋳造されたビットコインの形で、補助金。**
> * **さらに、そのブロックに含まれる検証済みトランザクションからの手数料。**

* **誰かにビットコインを送信すると、そのトランザクションには手数料が含まれ、マイナーによって検証され、ブロックに含める必要があります。**
* **ビットコインブロック補助金**は4年ごとに半減します
* **現在、マイニングされたブロックあたり3.125ビットコインです。**
* **次の「半減期」は2028年に行われ、**その時点でブロック報酬はマイニングされたブロックあたり1.5625ビットコインに低下します。
* 前述のように、**これにより発行が安定します。**
* **2140年には、最後のビットコインがマイニングされます。**
* その後、マイナーは各ブロックで検証するトランザクションからの手数料のみを受け取ります。

>*報酬が少なすぎる場合、数十年後には、トランザクション手数料がノード（マイナー）の主な報酬になります。*

~ サトシ・ナカモト
Bitcointalk.org, 2010-02-14

>* **マイナーは常にトランザクションを検証し、それによってネットワークを最新の状態に保ち、セキュリティを確保する必要があります。**

* 費用がかかること、および収益性が家庭用マイナーにとってごくわずかであることを認識する必要がありますが、これはネットワークのセキュリティを確保し、分散化された状態に保つのに役立つ強力な方法です。
* マイナーはかなり長持ちします。たとえば、現在、6年以上稼働しているAntminer S9がたくさんあります。
* マイナーが廃止された場合、**簡単に分解してリサイクルできます。**
* **人々がマイナーからの余分な熱を使用して家、サウナ、温室、ホットタブ、乾燥ジャッキーや野菜、暖房デッキ、乾燥木材などを暖めていることから、多くの魅力的なイノベーションが起こっています！**

---
