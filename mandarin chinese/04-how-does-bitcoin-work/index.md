# 比特币是如何运作的？

规则而非统治者

tik-tok/
/下一个区块
* 比特币使用工作量证明、公钥密码学和点对点网络，
在全球分布式在线账本中处理和验证支付。

>**密码学** (名词) /krɪpˈtɑːɡrəfi
>
>*: 以秘密代码或密码对消息进行加密和解密
>: 对信息进行计算机化编码和解码*

~ Merriam Webster 词典

>**哈希** (动词) /ˈhæʃɪŋ/
>
>*: 一种加密方法
>: 使用数学算法处理数据以生成代表该数据的数值（哈希摘要）的过程。*

~ crsc.nist.gov

>**记住：**
>
>比特币生态系统包括 >>
>
>**bitcoin：** 数字**货币资产**
>
>**Bitcoin：** 矿工和节点的**支付网络**

1 比特币 = 100,000,000 聪 (sats)

**(您可以购买聪，即比特币的一小部分)**

---

>*我们将电子货币定义为数字签名链。每个所有者通过对先前交易的哈希值和下一个所有者的公钥进行数字签名，并将这些添加到货币的末尾，从而将货币转移给下一个所有者。收款人可以验证签名以验证所有权链。*

~ 中本聪
比特币白皮书，第 2 部分，2008 年
描述比特币交易如何在分布式账本中运作

---
## 比特币生态系统..
**由矿工、节点、用户、开发者组成**

所有人独立工作，

并且同时相互依存，

以激活那正在蓬勃发展的

比特币！

![bitcoin](figure-06-m-u-n-d.png)

---
## 矿工
* **专门的节点**（称为ASIC的计算机）**“挖掘”成为比特币区块链一部分的区块**。
* 通过这样做，他们**验证用户进行的已验证交易，铸造新的比特币**并**保护整个网络**。

## 用户
* **你和我。我们所有人。** 人民。
* 认识并欣赏所提供商品和服务的价值，我们进行交易：给予和接收比特币，或者根据需要将其存储以供以后使用。

## 节点
* **节点是运行比特币软件的计算机。**
* **有成千上万个节点**组成了去中心化的、全球性的、自愿的**网络，该网络验证交易**（从而防止双重支付，并有助于保护系统）。

## 开发者（DEVS）
* **编码员、程序员和数字作者**，他们努力**维护和扩展网络，提高安全性、隐私性和用户界面，并将代码**翻译成我们可以理解和利用的语言和视觉效果

---

## 一笔比特币交易：
Ali想给Benji发送一些比特币：

>1. Ali**打开她手机上的比特币钱包**应用程序并**点击“发送”**。
>2. Benji**打开他的钱包应用程序**并**点击“接收”**。
>3. **如果他们在一起：** Ali扫描Benji手机上的钱包应用程序上的二维码。
>4. **如果他们不在一起：** Ali将Benji发给她的地址复制并粘贴到她的钱包的地址字段中。
>5. Ali**输入要发送的金额，**然后点击**“发送”**。
>6. **几秒钟后，** Benji将在他的钱包中看到待处理的金额。
>7. **如果是通过闪电网络发送的，** 它将几乎立即得到确认，并且几乎是免费的。
>8. **如果是“链上”发送的**（在比特币主链上），它包括一小笔费用，通常需要大约10分钟才能确认。根据网络流量，可能需要更长的时间。

---

## 一笔比特币交易的底层原理：
（以下是**粗体**术语的定义）

>1. 当Ali将这些聪发送给Benji时，付款**交易**会被**广播**到网络。
>2. 该交易由**节点**验证，节点确保Ali确实有比特币可以发送，并且以前没有被花费（以防止双重支付）。
>3. 一旦被节点验证，它就会在**交易池**中与其他人的交易一起等待。
>4. 当一个**矿工**找到满足**难度算法**的**随机数**时，交易池中的交易会被添加到**区块链**中的一个区块中。
>5. 每个**区块**都有一个**时间戳**。
>6. 这创造了**不可变性，** 并有助于保护难度算法的调整免受操纵。
>7. 每个区块代表对其包含的交易的一个确认。
>8. 随着区块的添加，平均每十分钟添加一次，区块链的不可变性会增加。

---

## 术语表

---
>* **交易 ~ 发送/接收比特币**
---
* 以聪的形式，从一个比特币持有者到另一个比特币持有者的价值转移。

---
>* **节点 ~ 去中心化比特币“银行”的一个“分支”。任何人都可以运行一个节点。**
---

* 节点是运行比特币软件的计算机。
* 节点与矿工、用户和开发者一起，构成了点对点比特币网络。
* 将**每个完整节点想象成一个包含每个私钥余额的账本。**
* 它们通过接受和验证来自其他节点的交易以及来自矿工的区块，然后将这些交易和区块转发给其他节点，从而相互交互并达成共识（同意）。
* 节点由世界各地成千上万的志愿者组成的临时小组运行。
* 一个完整节点是自中本聪在2009年挖掘出创世区块以来，独立验证了整个比特币区块链的节点。
* 活跃节点越多，整个网络就越分散，因此也越有弹性。
* **目前，全球有超过19,000个可访问的完整节点，以及更多的不可访问节点。**
* 所有参与节点都是平等的。

---

---
>* **广播 ~ 让网络知道您正在向某人发送比特币。**
---

* 当您点击“发送”时，您的钱包会使用您的私钥对交易进行签名并广播它，让所有其他节点知道您转移价值的意图，以便它们可以验证交易

---
>* **交易池 ~ 交易等待室**
---

* 这是经过验证的交易被发送到这里，等待矿工拾取并添加到区块的“等待室”。

---
>* **区块 ~ 比特币账本中的一个“页面”**
---

* 比特币分布式账本由数字“区块”组成。
* 每个区块都包含经过验证的比特币交易，这些交易使全球账本保持准确和最新。
* 它们还包含随机数、时间戳和前一个区块的哈希值，所有这些都有助于比特币区块链的不可变性。

---
>* **区块链 ~ 整个比特币账本**
---

* 比特币区块链，也称为时间链，是包含每个区块以及自中本聪在2009年挖掘出创世区块以来所进行的每笔比特币交易的分布式账本。

---

---
>* **矿工 ~ 既确认交易又发行新比特币的专用节点**
---

* 比特币矿工是专用计算机。
* 他们将大量的计算能力（哈希率）投入到数字彩票中，以猜测一个将满足当前难度算法的数字，从而“挖掘”一个“区块”（账本的一部分）。
* 挖掘出的区块会被盖上时间戳并添加到区块链（也称为时间链）。

---
>* **难度算法 ~ 一种特殊的、自适应的设计，有助于保持新比特币的发行可预测。**
---

* 这是中本聪的天才解决方案之一，可以帮助保护比特币的发行免于超出自身范围，因为开发了更先进的计算机。
* 当更多的矿工上线时，“彩票”中的目标数字（随机数）会变得更小，因此更难找到。
* 当矿工较少时，会变得更容易。
* 该算法**每2016个区块自动调整一次**（大约每两周一次），以确保可预测的供应率，其中平均每十分钟挖掘一个区块。

---
>* **随机数 ~ 一个32位的随机数**
---

* 矿工添加到哈希交易列表末尾的32位随机数，以尝试满足挖掘区块的难度目标。
* 当矿工找到一个随机数，该随机数导致生成的哈希值低于当前目标数字时，他们就挖掘出了一个区块，并可以将其添加到区块链并声明比特币区块奖励。
---

---
>* **时间戳 ~ 标记时间**
---

* 每个挖掘出的区块都有一个时间戳添加到其中。
* 这是为了增加安全性、不变性并帮助建立难度调整

---
>* **不可变性 ~ 无法更改。**
---

* 这意味着区块链是“设置在数字石头中”的。

---
>* **工作量证明 (PoW) ~ 加密证明，表明已完成困难的工作以满足算法。**
---

* 矿工使用PoW算法来证明他们已经通过电力（工作）使用了大量的计算能力，以便以分散的方式达成共识，并防止腐败的行为者向网络发送垃圾邮件。

---
>* **公钥密码学 ~ 一种创建数字密钥以访问您的比特币的过程**
---

* 这是一个通过密码学算法创建两个密钥的系统。
* **一个密钥是公开的** - 就像您的银行帐号一样，您可以给人们发送比特币以换取商品、礼物或服务。
* **另一个密钥是私有的** - 只有您拥有一个副本，并且您可以使用它来解锁对您的比特币的访问权限，就像密码解锁您的在线银行帐户一样。
* **您必须非常安全地保护您的私钥，** 因为任何有权访问它的人都可以访问您的比特币。

---

---
>* **点对点 (P2P) 网络 ~ 一个没有中间人的去中心化网络**
---

* 完整节点（对等方）协作维护点对点网络，以进行交易和区块验证和核实。
* 在这种类型的网络中，每个节点都能够向其对等方提供/请求数据。
* 在P2P网络中没有守门人。

---
>* **闪电网络 ~ 一个建立在比特币之上的网络，可以非常快速且几乎免费地发送或接收sats。**
---

* 闪电网络是一种第2层扩展解决方案。
* 这意味着它提供了一种比特币扩展的方式，使其有可能每秒处理数百万笔交易（TPS）。

---
>* **钱包 ~ “钱包”持有访问您的比特币的加密密钥。**
---

* 它可以放在手机、电脑或单独的小型硬件设备上（最安全）。
* 比特币钱包更准确地称为签名设备。
* 您的比特币实际上从未离开过区块链，即数字账本。
* 当您希望发送或花费您的比特币时，钱包将对交易进行签名并将其广播到网络，以便对其进行验证并添加到区块链中的一个区块中。

---
>* **开发者 ~ 计算机程序员**
---

* 维护网络、提高安全性、检查错误、提交拉取请求（用于新更新或功能）、查看拉取请求、审核代码的密码朋克/程序员。

---

---
>* **公钥 ~ 就像用于接收比特币的银行帐号。**
---

* 您可以将其提供给人们以向您发送比特币，就像您会将您的帐户号码提供给某人，以便他们可以向您发送法定货币一样

---
>* **私钥 ~ 用于保护、访问和发送比特币，就像安全保管箱的钥匙一样。**
---

* 比特币私钥是一串秘密的数字和字母，可让您发送/花费您的比特币。
* 只有您拥有一个副本。** **非常重要的一点是，要非常安全地保管它，因为任何获得副本的人都可以花费您的比特币。** **

---
>* **分布式账本 ~ 由希望帮助维护它的每个人维护的账本。**
---

* 与银行维护的集中控制且对公众不可见的账本不同，比特币是一个透明、开放、去中心化的账本，任何人都可以随时查看。
* 地址是字母和数字的字符串，没有附加名称。
* 虽然是假名的，但可以跟踪交易，特别是如果比特币是从集中的KYC交易所购买的。
* 比特币网络是无需信任的，任何人都可以随时对其进行审计，这与银行不同，在银行中，人们必须信任账本的诚实性。

---

## 更多关于挖矿
![whatsminer](figure-07-whatsminer.png) Whatsminer M50S

![Antminer](figure-08-Antminer.png) Antminer S21 Pro

![Bitaxe](figure-09-Bitaxe%20.png) Bitaxe 401 Supra

* **矿工通过电力将计算能力（又称哈希率）投入到网络中，** 以将区块添加到比特币区块链中。
* 这些计算机每天24小时运行，通常从几台到几百台或几千台不等。
* **他们基本上是在运行彩票。当其中一台计算机猜测出一个数字**（随机数），该数字生成的哈希值满足当前的难度目标时，**他们就可以将下一个区块添加到时间链中。**
* **以上所有都是诞生新比特币所需的工作量证明 (PoW)。**

---

## 比特币区块奖励
**= 补贴 + 费用**

>* **矿工因其工作而获得：**
> * **补贴，以新铸造的比特币的形式。**
> * **此外，还包括验证区块中包含的已验证交易的费用**

* **当您向某人发送比特币时，该交易会包含一笔费用**，并且需要矿工验证，然后包含在一个区块中。
* **比特币区块补贴**每四年减半
* **目前，每个挖出的区块是3.125个比特币。**
* **下一次“减半”将在2028年进行，** 届时每个挖出的区块的区块奖励将降至1.5625个比特币。
* 如前所述，**这可以保持发行稳定。**
* **到2140年，将挖掘出最后一块比特币。**
* 在那之后，矿工将只获得每个区块中他们验证的交易的费用。

>*在几十年后，当奖励变得太少时，交易费用将成为节点（矿工）的主要补偿。*

~ 中本聪
Bitcointalk.org，2010-02-14

>* **始终需要矿工来验证交易，从而保持网络更新和安全。**

* 虽然需要意识到存在成本，并且家庭矿工的盈利能力可以忽略不计，但这是一种强大的方式，可以帮助保护和保持网络分散。
* 矿工可以使用相当长的时间。例如，目前有许多Antminer S9已经运行了6年以上。
* 当矿工退役时，**可以很容易地将其拆卸并回收。**
* **正在发生大量令人着迷的创新，** 人们正在利用矿工产生的多余热量来加热房屋、桑拿房、温室、热水浴缸、干燥肉干和蔬菜、加热甲板、干燥木材等等！

---
